<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="UTF-8">
        <title>DevIcon生成器</title>
        <style>
            body{
                background-size: cover;
                text-align: center;
            }
            img{
                width: 30;
                height: 30;
                vertical-align: middle;
            }
            input{
                width: 300px;
                height: 30px;
                font-size: 18px;
                text-align: center;
                border: #30b087 2px solid;
                border-radius: 5px;
            }
            input:focus{
                outline: none;
                border: 2px solid #50d0a7;
                background-color: aquamarine;
            }
            input::placeholder{
                font-size: 16px;
                color: #206029;
            }
            button{
                width: 100px;
                height: 30px;
                font-size: 16px;
                margin: 10px;
                background-color:green;
                color: white;
                border: 1px solid #000000;
                border-radius: 5px;
            }
            button:hover{
                background-color: #20a020;
                cursor: pointer;
            }
            #urlDisplay{
                font-size: 14px;
                margin:10px 10px 10px 20px;
            }
            #iconDisplay{
                margin-top: 20px;
            }
        </style>
    </head>
    <body>
        <h1>
            <img src="https://avatars.githubusercontent.com/u/66767815?s=200&v=4" height="40" width="40">
            DevIcon<strong>生成器</strong>
        </h1>
        <font id="JSEnableCheck" color="red">JavaScript似乎未启用，请启用后刷新再试</font><!--写noscript不能展示其他内容-->
        <input type="text" id="input" placeholder="输入软件包名称"><br>
        <span id="urlDisplay" style="color:#206029">URL：未输入</span><br>
        <button onclick="gen()">生成图标</button> <button id="generateBtn" onclick="copy()">复制URL</button>
        <img id="iconDisplay" alt="DevIcon图标将显示在这里" style="display:none;">
        <script>
            document.getElementById('JSEnableCheck').style.display = 'none';
            console.log('JavaScript已启用，页面加载成功');
            function gen(){
                const name = document.getElementById('input').value;
                const iconUrl = 'https://raw.githubusercontent.com/devicons/devicon/refs/heads/master/icons/'+name+'/'+name+'-original.svg';
                const iconDisplay = document.getElementById('iconDisplay').src = iconUrl;
                document.getElementById('iconDisplay').style.display = 'block';
                document.getElementById('urlDisplay').textContent = iconUrl;
                console.log('已生成软件包'+name+'的DevIcon URL：' + iconUrl);
            }
            function copy(){
                const name = document.getElementById('input').value;
                if(name === ''){
                    alert('未输入软件包名称！');
                    console.log('未输入软件包名称，复制操作取消');
                    return;
                }else if(name===!''){
                    const iconUrl = `https://raw.githubusercontent.com/devicons/devicon/refs/heads/master/icons/${name}/${name}-original.svg`;
                    document.getElementById('iconDisplay').src = iconUrl;
                    if(!navigator.clipboard){
                        alert('浏览器版本过旧，不支持自动复制，请手动复制');
                        document.getElementById('generateBtn').textContent = '❌复制失败';
                        console.log('浏览器不支持Clipboard API，自动复制失败');
                        return;
                    }else{
                        navigator.clipboard.writeText(iconUrl);
                        document.getElementById('generateBtn').textContent = '✅已复制';
                        setTimeout(() => {
                            document.getElementById('generateBtn').textContent = '生成图标';
                        }, 2000);
                        console.log('已复制软件包'+name+'的DevIcon URL：'+iconUrl);
                    }
                }
            }
        </script><!--写完后的唯一感觉：JavaScript Debug太难了！！！但这是我自学的第一门语言-->
    </body>
</html>